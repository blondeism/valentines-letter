<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>404 Not Found</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;700&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
    <style>
        body { height: 100vh; background: #0f0f0f; color: #e5e7eb; display: flex; align-items: center; justify-content: center; font-family: monospace; overflow-x: hidden; }
        .error-box { width: 100%; max-width: 600px; padding: 40px; }
        .card-mode { background: #1a1a1a; font-family: 'Crimson Text', serif; display: block; overflow-y: auto; padding: 20px; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="error-box" id="error-screen">
    <h1 class="text-6xl mb-4 text-white font-bold">404</h1>
    <h2 class="text-xl mb-6">Resource Not Found</h2>
    <p class="text-gray-400 mb-8">The system encountered an unexpected error while trying to fetch the love_data.packet.</p>
    <button onclick="unlockValentine()" class="border border-zinc-700 px-6 py-2 hover:bg-zinc-800 transition">Try Reconnect</button>
</div>

<div id="valentine-screen" class="hidden w-full max-w-lg mx-auto text-center space-y-6 py-10">
    
    <div class="flex justify-center">
        <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_n9u8pwgy.json" 
            background="transparent" speed="1" style="width: 200px; height: 200px;" loop autoplay>
        </lottie-player>
    </div>

    <div id="timer" class="text-red-500 font-mono tracking-tighter text-lg bg-red-950/20 py-2 rounded-lg border border-red-900/30">
        Initializing...
    </div>

    <div class="relative group">
        <img src="letter.png" alt="My Letter" class="w-full rounded-lg shadow-2xl border border-zinc-800 transition-transform duration-500 group-hover:scale-[1.02]">
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent pointer-events-none rounded-lg"></div>
    </div>

    <div class="rounded-xl overflow-hidden shadow-lg bg-black">
        <iframe style="border-radius:12px" 
            src="https://open.spotify.com/embed/track/YOUR_TRACK_ID_HERE?utm_source=generator&theme=0" 
            width="100%" height="152" frameBorder="0" allowfullscreen="" 
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
        </iframe>
    </div>

    <button onclick="celebrate()" class="bg-red-700 hover:bg-red-600 text-white font-bold py-3 px-10 rounded-full transition-all transform active:scale-95 shadow-lg shadow-red-900/40">
        I Love You! ❤️
    </button>

</div>

<script>
    function unlockValentine() {
        document.getElementById('error-screen').classList.add('hidden');
        document.body.classList.add('card-mode');
        const valScreen = document.getElementById('valentine-screen');
        valScreen.classList.remove('hidden');
        valScreen.classList.add('animate-fade-in');
        startTimer();
    }

    function startTimer() {
        const target = new Date("February 14, 2026 00:00:00").getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const diff = target - now;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);
            document.getElementById("timer").innerHTML = `${d}D : ${h}H : ${m}M : ${s}S UNTIL VALENTINES`;
        }, 1000);
    }

    function celebrate() {
        const duration = 5 * 1000;
        const animationEnd = Date.now() + duration;
        const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

        function randomInRange(min, max) { return Math.random() * (max - min) + min; }

        const interval = setInterval(function() {
            const timeLeft = animationEnd - Date.now();
            if (timeLeft <= 0) return clearInterval(interval);
            const particleCount = 50 * (timeLeft / duration);
            confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } });
            confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } });
        }, 250);
    }
</script>
</body>
</html>
